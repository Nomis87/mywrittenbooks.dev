CREATE TABLE mwb_admin (generated_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, admin_id BIGINT AUTO_INCREMENT, firstname VARCHAR(40) NOT NULL, lastname VARCHAR(20) NOT NULL, email VARCHAR(40) NOT NULL, username VARCHAR(20) NOT NULL, password VARCHAR(40) NOT NULL, picturepath VARCHAR(255), superadmin TINYINT(1) DEFAULT '0', PRIMARY KEY(admin_id)) ENGINE = INNODB;
CREATE TABLE mwb_bought_object (buydobject_id BIGINT AUTO_INCREMENT, user BIGINT NOT NULL, object BIGINT NOT NULL, INDEX userindex_idx (user), INDEX objectindex_idx (object), PRIMARY KEY(buydobject_id)) ENGINE = INNODB;
CREATE TABLE mwb_genre (genre_id BIGINT AUTO_INCREMENT, name VARCHAR(255) NOT NULL UNIQUE, PRIMARY KEY(genre_id)) ENGINE = INNODB;
CREATE TABLE mwb_language (language_id BIGINT AUTO_INCREMENT, shortcut VARCHAR(10) NOT NULL, country VARCHAR(60) NOT NULL, netsuffix VARCHAR(10), PRIMARY KEY(language_id)) ENGINE = INNODB;
CREATE TABLE mwb_news (news_id BIGINT AUTO_INCREMENT, title VARCHAR(255) NOT NULL, writer BIGINT, date DATETIME, news TEXT NOT NULL, INDEX writerindex_idx (writer), PRIMARY KEY(news_id)) ENGINE = INNODB;
CREATE TABLE mwb_object (object_id BIGINT AUTO_INCREMENT, generated_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, title VARCHAR(255) NOT NULL, sites BIGINT, description TEXT NOT NULL, price DECIMAL(6, 2) NOT NULL, writer BIGINT NOT NULL, picture VARCHAR(255), documentpath VARCHAR(255) NOT NULL, genre BIGINT NOT NULL, language BIGINT NOT NULL, INDEX genreindex_idx (genre), INDEX userindex_idx (writer), INDEX languageindex_idx (language), PRIMARY KEY(object_id)) ENGINE = INNODB;
CREATE TABLE mwb_published_object (publishedobject_id BIGINT AUTO_INCREMENT, object BIGINT NOT NULL, user BIGINT NOT NULL, INDEX objectindex_idx (object), INDEX userindex_idx (user), PRIMARY KEY(publishedobject_id)) ENGINE = INNODB;
CREATE TABLE mwb_rated_object (ratedobject_id BIGINT AUTO_INCREMENT, book BIGINT NOT NULL, PRIMARY KEY(ratedobject_id)) ENGINE = INNODB;
CREATE TABLE mwb_user (generated_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, user_id BIGINT AUTO_INCREMENT, firstname VARCHAR(40) NOT NULL, lastname VARCHAR(20) NOT NULL, email VARCHAR(40) NOT NULL, username VARCHAR(20) NOT NULL, password VARCHAR(40) NOT NULL, picturepath VARCHAR(255), activated TINYINT(1) DEFAULT '0', PRIMARY KEY(user_id)) ENGINE = INNODB;
ALTER TABLE mwb_bought_object ADD CONSTRAINT mwb_bought_object_user_mwb_user_user_id FOREIGN KEY (user) REFERENCES mwb_user(user_id) ON DELETE CASCADE;
ALTER TABLE mwb_bought_object ADD CONSTRAINT mwb_bought_object_object_mwb_object_object_id FOREIGN KEY (object) REFERENCES mwb_object(object_id) ON DELETE CASCADE;
ALTER TABLE mwb_news ADD CONSTRAINT mwb_news_writer_mwb_admin_admin_id FOREIGN KEY (writer) REFERENCES mwb_admin(admin_id) ON DELETE CASCADE;
ALTER TABLE mwb_object ADD CONSTRAINT mwb_object_writer_mwb_user_user_id FOREIGN KEY (writer) REFERENCES mwb_user(user_id) ON DELETE CASCADE;
ALTER TABLE mwb_object ADD CONSTRAINT mwb_object_language_mwb_language_language_id FOREIGN KEY (language) REFERENCES mwb_language(language_id) ON DELETE CASCADE;
ALTER TABLE mwb_object ADD CONSTRAINT mwb_object_genre_mwb_genre_genre_id FOREIGN KEY (genre) REFERENCES mwb_genre(genre_id) ON DELETE CASCADE;
ALTER TABLE mwb_published_object ADD CONSTRAINT mwb_published_object_user_mwb_user_user_id FOREIGN KEY (user) REFERENCES mwb_user(user_id) ON DELETE CASCADE;
ALTER TABLE mwb_published_object ADD CONSTRAINT mwb_published_object_object_mwb_object_object_id FOREIGN KEY (object) REFERENCES mwb_object(object_id) ON DELETE CASCADE;
